require '../../test_helper'
LinearCongruential = require '../../../lib/seeds/linear_congruential'

describe 'LinearCongruential generator', ->
  beforeEach ->
    @generator = new LinearCongruential 1

    # These values where generated for a seed of 1 from an
    # actionscript implementation.
    @expected = [
      1.3969838619232178e-9,
      4.190951585769653e-9,
      1.257285475730896e-8,
      3.771856427192688e-8,
      1.1315569281578064e-7,
      3.394670784473419e-7,
      0.0000010184012353420258,
      0.0000030552037060260773,
      0.000009165611118078232,
      0.000027496833354234695,
      0.00008249050006270409,
      0.00024747150018811226,
      0.0007424145005643368,
      0.0022272435016930103,
      0.006681730505079031,
      0.020045191515237093,
      0.06013557454571128,
      0.18040672363713384,
      0.5412201709114015,
      0.6236605131998658,
      0.8709815400652587,
      0.6129446201957762,
      0.83883386105299,
      0.5165015831589699,
      0.5495047499425709,
      0.6485142502933741,
      0.9455427513457835,
      0.8366282540373504,
      0.5098847621120512,
      0.529654286801815,
      0.5889628608711064,
      0.7668885830789804,
      0.30066574923694134,
      0.901997247710824,
      0.705991743132472,
      0.11797522939741611,
      0.35392568819224834,
      0.06177706504240632,
      0.18533119512721896,
      0.5559935853816569,
      0.6679807566106319,
      0.003942269831895828,
      0.011826809495687485,
      0.035480428487062454,
      0.10644128546118736,
      0.3193238563835621,
      0.9579715691506863,
      0.8739147074520588,
      0.6217441223561764,
      0.8652323675341904,
      0.5956971026025712,
      0.787091308273375,
      0.3612739248201251,
      0.0838217749260366,
      0.2514653247781098,
      0.7543959743343294,
      0.2631879230029881,
      0.7895637690089643,
      0.3686913070268929,
      0.10607392154633999,
      0.31822176463901997,
      0.9546652939170599,
      0.8639958817511797,
      0.5919876452535391,
      0.7759629362262785,
      0.32788880867883563,
      0.9836664260365069,
      0.9509992781095207,
      0.852997834328562,
      0.5589935029856861,
      0.6769805094227195,
      0.030941528268158436,
      0.09282458480447531,
      0.2784737544134259,
      0.8354212632402778,
      0.5062637897208333,
      0.5187913696281612,
      0.5563741093501449,
      0.6691223285160959,
      0.00736698554828763,
      0.02210095664486289,
      0.06630286993458867,
      0.198908609803766,
      0.596725829411298,
      0.7901774886995554,
      0.3705324660986662,
      0.11159739876165986,
      0.3347921962849796,
      0.004376589320600033,
      0.013129767961800098,
      0.039389303885400295,
      0.11816791165620089,
      0.35450373496860266,
      0.06351120537146926,
      0.19053361611440778,
      0.5716008483432233,
      0.7148025454953313,
      0.14440763648599386,
      0.4332229094579816,
      0.29966872883960605
    ]

  it 'should generate random values', ->
    a = []
    for n in @expected
      a.push @generator.get()

    expect(a).toEqual(@expected)
